// This file has been autogenerated from a class added in the UI designer.

using System;
using System.ComponentModel;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Linq.Expressions;

using MonoTouch.Foundation;
using MonoTouch.UIKit;

namespace BlahguaMobile.IOS
{
	public enum BGLeftMenuType
	{
		Channels,
		BlahType
	}

	public partial class BGLeftMenuTableViewController : UITableViewController
	{
		public BGLeftMenuType Type 
		{
			get;
			set;
		}

		public BGLeftMenuTableViewController (IntPtr handle) : base (handle)
		{
			Type = BGLeftMenuType.Channels;
		}

		public BGLeftMenuTableViewController() : base()
		{
			Type = BGLeftMenuType.Channels;
		}

		public override void ViewDidLoad ()
		{
			base.ViewDidLoad ();

			View.BackgroundColor = UIColor.FromPatternImage (UIImage.FromFile ("darkGrayBack.png"));
			BlahguaCore.BlahguaAPIObject.Current.PropertyChanged += (object sender, PropertyChangedEventArgs e) => 
			{
				if(e.PropertyName == "CurrentChannelList" || e.PropertyName == "CurrentChannelTypeList")
				{
					TableView.ReloadData();
				}
			};
		}

		public override void ViewWillAppear (bool animated)
		{
			TableView.Source = new BGSlidingMenuTableSource(Type);
			TableView.ReloadData ();
			base.ViewWillAppear (animated);
		}
	}

}